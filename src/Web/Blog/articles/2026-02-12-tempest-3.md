---
title: Tempest 3.0
description: Tempest 3.0 is now available.
tag: release
author: brent
---

Tempest 3.0 is now available, and I want to take a moment to specifically thank all contributors who helped with this release. From the very beginning more than two years ago until now, we've seen the Tempest community continue to grow, and it's amazing to work with so many talented developers. So thank you all!

Later in this post, I'll list [all breaking changes and how to use the automatic upgrader for existing projects](#breaking-changes-and-automatic-upgrade). First, I want to highlight some of the awesome new features in Tempest 3.0.

## New exception handler

## Database improvements
* feat(database): support uuids as primary columns by @innocenzi in https://github.com/tempestphp/tempest-framework/pull/1807
* fix(database): improve raw sql serialization consistency by @innocenzi in https://github.com/tempestphp/tempest-framework/pull/1861
* fix(database): use singleton serializer factory instead of creating a new one by @brendt in https://github.com/tempestphp/tempest-framework/pull/1877
* perf(orm): memoize mapper data to improve ORM performance by @brendt in https://github.com/tempestphp/tempest-framework/pull/1855
* perf(database): only use serializer factory when needed by @brendt in https://github.com/tempestphp/tempest-framework/pull/1898
* perf(mapper): pre-resolve mapper classes by @brendt in https://github.com/tempestphp/tempest-framework/pull/1852

## Closure-based validation
* feat(validation): add closure-based validation by @MohammadAlhallaq in https://github.com/tempestphp/tempest-framework/pull/1828


## View improvements
* feat(view): support expression attribute fallthrough by @xHeaven in https://github.com/tempestphp/tempest-framework/pull/1811
* fix(view): keep whitespaces during render by @brendt in https://github.com/tempestphp/tempest-framework/pull/1881
* Performance

## Auth
* feat(auth): implement Twitch OAuth provider wrapper by @iamdadmin in https://github.com/tempestphp/tempest-framework/pull/1919
* fix(auth): properly run migrations when installing auth by @brendt in https://github.com/tempestphp/tempest-framework/pull/1927

## Console
* feat(console): add native command completion for zsh and bash by @xHeaven in https://github.com/tempestphp/tempest-framework/pull/1851

## Command bus
* fix(command-bus): prevent crash when accessing deleted pending commands by @xHeaven in https://github.com/tempestphp/tempest-framework/pull/1926

## Debugging

* fix(debug): prevent infinite recursion when debugging in `ItemsDebugged` events by @xHeaven in https://github.com/tempestphp/tempest-framework/pull/1956

## Breaking changes and automatic upgrade

Since Tempest is still a young framework, breaking changes are to be expected as we polish our codebase. As with the previous major release, we shipped an automatic upgrade path to get your codebase to Tempest 3.0, powered by [Rector](https://getrector.com/). First, make sure to install Rector in your project if you haven't already:

```
{:hl-comment:~:} composer require rector/rector --dev {:hl-comment:# to require rector as a dev dependency:}
{:hl-comment:~:} vendor/bin/rector {:hl-comment:# to create a default rector config file:}
```

Next, update Tempest; it's important to add the `--no-scripts` flag to prevent any errors from being thrown during the update.

```sh
{:hl-comment:~:} composer require tempest/framework:^3.0 --no-scripts
```

Then you should add the Tempest set to your Rector config file:

```php
// rector.php

use \Tempest\Upgrade\Set\TempestSetList;

return RectorConfig::configure()
    // â€¦
    ->withSets([TempestSetList::TEMPEST_30]);
```

Then run the following:

```
{:hl-comment:~:} vendor/bin/rector {:hl-comment:# To update all your project files:}
```

Unfortunately, with this release, we weren't able to automate the full upgrade because we're running into some limitations with Rector. In the future, we want to look into alternatives to truly automate the full upgrade between major framework versions. If you have very extensive Rector knowledge and want to help out, feel free to get in touch via our [Discord server](/discord).

To make sure you don't miss anything, here's a list of all breaking changes with links to their pull requests:

- [Deprecated testing utilities were removed](https://github.com/tempestphp/tempest-framework/pull/1849)
- [View and route testing helpers were moved to their correct classes](https://github.com/tempestphp/tempest-framework/pull/1870)
- [Exception handling has been reworked](https://github.com/tempestphp/tempest-framework/pull/1819)
- [Session management and CSRF protection has been reworked](https://github.com/tempestphp/tempest-framework/pull/1829)
- [The `view` function has been moved to the `Tempest\View` namespace](https://github.com/tempestphp/tempest-framework/pull/1860)
- [`Arr\map_iterable` has been renamed to `Arr\map`](https://github.com/tempestphp/tempest-framework/pull/1884)
- [`--force` can now bypass `CautionMiddleware`](https://github.com/tempestphp/tempest-framework/pull/1804)
- [`Environment` was made an injectable dependency](https://github.com/tempestphp/tempest-framework/pull/1838)
- [Enum events are now supported in the event bus](https://github.com/tempestphp/tempest-framework/pull/1878)
- [Several other core functions have been moved to the correct namespace](https://github.com/tempestphp/tempest-framework/pull/1880)
- Both [LogConfig](#) and [DatabaseConfig](#) have been refactored and must be manually updated.

## What's next?

We've already started work on a new list of features and fixes for the [3.x release cycle](https://github.com/tempestphp/tempest-framework/milestone/20). Some big items coming up are: 